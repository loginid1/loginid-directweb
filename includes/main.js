(()=>{var e={597:e=>{self,e.exports=(()=>{"use strict";var e={72:(e,t,n)=>{n.r(t),n.d(t,{Browser:()=>r,default:()=>o}),Object.create,Object.create;class r{static isFido2Supported(){return e=this,void 0,n=function*(){try{return!(!window.PublicKeyCredential||!window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable)&&(yield window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable())}catch(e){return!1}},new((t=void 0)||(t=Promise))((function(r,o){function i(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,a)}d((n=n.apply(e,[])).next())}));var e,t,n}}const o=r}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(72)})()},734:e=>{self,e.exports=(()=>{"use strict";var e={259:(e,t,n)=>{function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function d(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}c((r=r.apply(e,t||[])).next())}))}n.r(t),n.d(t,{DirectWeb:()=>s,default:()=>u}),Object.create,Object.create;const o={bad_request:"Bad request",user_already_registered:"Username unavailable",client_not_created:"Client not created",client_not_updated:"Client not updated",client_not_deleted:"Client not deleted",client_not_activated:"Client not activated",client_not_deactivated:"Client not deactivated",client_not_verified:"Client not verified",client_history_not_created:"Client history not created",oidc_client_not_created:"OIDC client not created",oidc_client_not_deleted:"OIDC client not deleted",oidc_organization_not_found:"OIDC organization not found",oidc_scope_not_allowed:"OIDC scope not allowed",hydra_client_not_created:"Hydra client not created",hydra_client_not_deleted:"Hydra client not deleted",username_taken:"Username Unavailable",username_empty:"Username Empty",username_invalid:"Username Invalid",user_not_created:"User not created",user_not_updated:"User not updated",user_not_verified:"User not verified",credential_not_created:"Credential not created",user_activity_not_recorded:"User activity not recorded",user_device_not_created:"User device not created",request_validation_error:"Request Validation Error",query_failed:"Query Failed",missing_parameter:"Missing Parameter",failed_to_send_email:"Failed to send email",invalid_registration_code:"Invalid Registration Code",invalid_access_code:"Invalid Access Code",invalid_registration_link:"Invalid registration link",expired_registration_link:"Expired registration link",too_manny_registration_attempts:"Too many registration attempts",failed_to_authenticate:"Failed to authenticate",unauthorized:"Unauthorized",operation_not_allowed:"You do not have a permission to complete this action.",invalid_credential:"Invalid credentials",insufficient_license:"You do not have permission to complete this action. Please sign the appropriate agreements.",invalid_jwt:"Invalid token",forbidden:"Forbidden",endpoint_deprecated:"Error code: D3TVC3RP3D",not_found:"Not found",oidc_client_not_found:"OIDC client not found",authenticator_not_found:"Authenticator not found",client_not_found:"Client not found",user_not_found:"User not found",user_device_not_found:"User device not found",credential_not_found:"Credential not found",not_acceptable:"Unacceptable",oidc_max_client_reached:"OIDC max client limit reached",internal_server_error:"An Internal Error has occurred",database_error:"A Major Internal Error has occurred",missing_body:"Missing body",missing_authentication_method:"Missing Authentication",oidc_server_error:"OIDC server error",account_deactivated:"Account is deactivated"};class i extends Error{constructor(e,t,n){super(t),this.name="LoginSDK-Error",this.code=e,this.errors=n}}class a extends Error{constructor(){super("Your Identity could not be verified"),this.name="NavigatorError"}}const d=e=>{let t="";const n=new Uint8Array(e);for(let e=0;e<n.byteLength;e++)t+=String.fromCharCode(n[e]);return(e=>{let t,n,r,o,i,a,d,c,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,_=0,p="",f=[];if(!e)return e;do{t=e.charCodeAt(u++),n=e.charCodeAt(u++),r=e.charCodeAt(u++),c=t<<16|n<<8|r,o=63&c>>18,i=63&c>>12,a=63&c>>6,d=63&c,f[_++]=s.charAt(o)+s.charAt(i)+s.charAt(a)+s.charAt(d)}while(u<e.length);return p=f.join(""),l=e.length%3,(l?p.slice(0,l-3):p)+"===".slice(l||3)})(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},c=e=>{const t=(e=>{let t,n,r,o={},i=0,a=0,d="",c=String.fromCharCode,l=e.length;for(t=0;64>t;t++)o["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(n=0;l>n;n++)for(t=o[e.charAt(n)],i=(i<<6)+t,a+=6;a>=8;)((r=255&i>>>(a-=8))||l-2>n)&&(d+=c(r));return d})(e=e.replace(/-/g,"+").replace(/_/g,"/")),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n.buffer},l=(e,t,n)=>r(void 0,void 0,void 0,(function*(){const r={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},a=yield fetch(e+t,r),d=yield a.json();if(a.ok)return d;const{code:c}=d;throw new i(c,(e=>{const t=o[e];return void 0!==t?t:"An unknown error has occurred"})(c),[])}));class s{constructor(e,t){this._baseURL=e,this._apiKey=t}register(e){return r(this,void 0,void 0,(function*(){try{const n=localStorage.getItem("register_session_id"),o={clientId:this._apiKey,sessionId:n||"",udata:e};let i=yield l(this._baseURL,"/registerRequest",o);const{uid:s,session_id:u}=i;localStorage.setItem("register_session_id",u);const{challenge:_}=i;i.challenge=c(i.challenge),i.user.id=c(i.user.id);const p=yield(t={publicKey:i},r(void 0,void 0,void 0,(function*(){try{const e=yield navigator.credentials.create(t);if(null!==e)return e}catch(e){throw new a}throw new a}))),f=p.response,h={clientId:this._apiKey,uid:s,challenge:_,udata:e,keyHandle:d(p.rawId),clientData:d(f.clientDataJSON),attestData:d(f.attestationObject)};return yield l(this._baseURL,"/registerAttest",h)}catch(e){console.log(e)}var t}))}login(e){return r(this,void 0,void 0,(function*(){try{let n={clientId:this._apiKey,username:e},o=yield l(this._baseURL,"/verifyRequest",n);const{challenge:i}=o;if(o.challenge=c(o.challenge),o.allowCredentials)for(const e of o.allowCredentials)e.id=c(e.id);const s=yield(t={publicKey:o},r(void 0,void 0,void 0,(function*(){try{const e=yield navigator.credentials.get(t);if(null!==e)return e}catch(e){throw new a}throw new a}))),u=s.response,_={clientId:this._apiKey,challenge:i,username:e,udata:e,keyHandle:d(s.rawId),clientData:d(u.clientDataJSON),authData:d(u.authenticatorData),signData:d(u.signature)};return yield l(this._baseURL,"/verifySign",_)}catch(e){console.log(e)}var t}))}}const u=s}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(259)})()}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(734);var e=n(597),t=n.n(e);const r=document.getElementById("__loginid_register_form");void 0!==typeof r&&null!==r&&r.addEventListener("submit",(e=>{e.preventDefault(),async function(e,n){const r=document.getElementById("__loginid_input_password").value;if(async function(){try{return await t().isFido2Supported()}catch(e){return!1}}()||r.length>0){console.log("fido2 supported or ",r," > 0");const t={email:{value:document.getElementById("__loginid_input_email").value,element:document.createElement("input")},username:{value:document.getElementById("__loginid_input_username").value,element:document.createElement("input")},password:{value:r,element:document.createElement("input")},debug:{value:"debug",element:document.createElement("input")},submit:{value:"register",element:document.createElement("input")}},o=document.createElement("form");o.setAttribute("action",e),o.setAttribute("method",n),o.style="display: none;";for(const[e,{value:n,element:r}]of Object.entries(t))r.setAttribute("type","hidden"),r.setAttribute("name",e),r.setAttribute("value",n),o.appendChild(r);document.body.appendChild(o)}else document.getElementById("__loginid_password_div").style="display: block;",console.log("here")}(`${window.location.origin}${window.location.pathname}`,"POST")}))})()})();